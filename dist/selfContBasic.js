/** @param {NS} ns */
export async function main(ns) {
    const [target, nbThreads] = ns.args;
    while (true) {
        let nbGrow, nbHack;
        if (await ns.weaken(target) == 0.05 * nbThreads) {
            nbGrow = 6;
            nbHack = 12;
        }
        else {
            nbGrow = 25;
            nbHack = 50;
        }
        let moneyThreshold, moneyGain;
        while (nbGrow-- > 0 && await ns.grow(target) != 1)
            nbHack -= 2;
        while (nbHack-- > 0 && (moneyThreshold = await ns.hack(target) / 2) == 0)
            ;
        while (nbHack-- > 0 && ((moneyGain = await ns.hack(target)) > moneyThreshold || moneyGain == 0))
            ;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZkNvbnRCYXNpYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zZWxmQ29udEJhc2ljLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQjtBQUNyQixNQUFNLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxFQUFFO0lBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztJQUVwQyxPQUFPLElBQUksRUFBQztRQUNYLElBQUksTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNuQixJQUFHLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLEdBQUcsU0FBUyxFQUFDO1lBQzlDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFDWCxNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQ1o7YUFDSTtZQUNKLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDWixNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQ1o7UUFDRCxJQUFJLGNBQWMsRUFBRSxTQUFTLENBQUM7UUFDOUIsT0FBTyxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDaEQsTUFBTSxJQUFJLENBQUMsQ0FBQztRQUNiLE9BQU8sTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQUUsQ0FBQztRQUMzRSxPQUFPLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLGNBQWMsSUFBSSxTQUFTLElBQUksQ0FBQyxDQUFDO1lBQUMsQ0FBQztLQUNqRztBQUNGLENBQUMifQ==